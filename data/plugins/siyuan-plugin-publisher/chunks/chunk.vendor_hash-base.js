import{r as g}from"./chunk.vendor_safe-buffer.js";import{r as b}from"./chunk.vendor_stream-browserify.js";import{r as m}from"./chunk.vendor_inherits.js";var u,c;function k(){if(c)return u;c=1;var i=g().Buffer,l=b().Transform,p=m();function f(r){l.call(this),this._block=i.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}p(f,l),f.prototype._transform=function(r,t,e){var o=null;try{this.update(r,t)}catch(s){o=s}e(o)},f.prototype._flush=function(r){var t=null;try{this.push(this.digest())}catch(e){t=e}r(t)};var _=typeof Uint8Array<"u",y=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(i.prototype instanceof Uint8Array||i.TYPED_ARRAY_SUPPORT);function a(r,t){if(r instanceof i)return r;if(typeof r=="string")return i.from(r,t);if(y&&ArrayBuffer.isView(r)){if(r.byteLength===0)return i.alloc(0);var e=i.from(r.buffer,r.byteOffset,r.byteLength);if(e.byteLength===r.byteLength)return e}if(_&&r instanceof Uint8Array||i.isBuffer(r)&&r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r))return i.from(r);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return f.prototype.update=function(r,t){if(this._finalized)throw new Error("Digest already called");r=a(r,t);for(var e=this._block,o=0;this._blockOffset+r.length-o>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)e[s++]=r[o++];this._update(),this._blockOffset=0}for(;o<r.length;)e[this._blockOffset++]=r[o++];for(var h=0,n=r.length*8;n>0;++h)this._length[h]+=n,n=this._length[h]/4294967296|0,n>0&&(this._length[h]-=4294967296*n);return this},f.prototype._update=function(){throw new Error("_update is not implemented")},f.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();r!==void 0&&(t=t.toString(r)),this._block.fill(0),this._blockOffset=0;for(var e=0;e<4;++e)this._length[e]=0;return t},f.prototype._digest=function(){throw new Error("_digest is not implemented")},u=f,u}export{k as r};
