{"ID":"20250918204450-8534iqz","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250918204450-8534iqz","title":"Docker部署","type":"doc","updated":"20250918205143"},"Children":[{"ID":"20250918205143-a04eoc1","Type":"NodeParagraph","Properties":{"id":"20250918205143-a04eoc1","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"以下内容根据"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.docker.com/engine/install/debian/","TextMarkATitle":"官方文档","TextMarkTextContent":"官方文档"},{"Type":"NodeText","Data":"修改而来。"}]},{"ID":"20250918205143-zgsrdcf","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918205143-zgsrdcf","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"step1.如果过去安装过docker，先删除:"}]},{"ID":"20250918205143-ybx7jpq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918205143-ybx7jpq","updated":"20250918205143"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918205143-9lexfvs","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918205143-9lexfvs","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"step2.安装依赖:"}]},{"ID":"20250918205143-gze20ky","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918205143-gze20ky","updated":"20250918205143"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918205143-fth6r23","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918205143-fth6r23","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"step3.信任 Docker 的 GPG 公钥并添加仓库："}]},{"ID":"20250918205143-39h2t8u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918205143-39h2t8u","updated":"20250918205143"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \\\n  \"$(. /etc/os-release \u0026\u0026 echo \"$VERSION_CODENAME\")\" stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918205143-kybvz74","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918205143-kybvz74","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"step4.最后安装："}]},{"ID":"20250918205143-veg9lxq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918205143-veg9lxq","updated":"20250918205143"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918205143-6i9r2fb","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918205143-6i9r2fb","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"step5.配置Docker权限"}]},{"ID":"20250918205143-xkdvzvz","Type":"NodeParagraph","Properties":{"id":"20250918205143-xkdvzvz","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"默认情况下，Docker需要sudo权限。为了避免每次运行Docker命令都需要sudo，可以将当前用户加入docker组："}]},{"ID":"20250918205143-iwu38el","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918205143-iwu38el","updated":"20250918205143"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo usermod -aG docker $USER\nnewgrp docker  # 刷新用户组\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918205143-1aasvhp","Type":"NodeParagraph","Properties":{"id":"20250918205143-1aasvhp","updated":"20250918205143"},"Children":[{"Type":"NodeText","Data":"‍"}]}]}