{"ID":"20250918204450-8534iqz","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250918204450-8534iqz","title":"Docker部署","type":"doc","updated":"20250918211104"},"Children":[{"ID":"20250918211104-fvk3avq","Type":"NodeParagraph","Properties":{"id":"20250918211104-fvk3avq","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"以下内容根据"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.docker.com/engine/install/debian/","TextMarkATitle":"官方文档","TextMarkTextContent":"官方文档"},{"Type":"NodeText","Data":"修改而来。"}]},{"ID":"20250918211104-xemucuv","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918211104-xemucuv","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"step1.如果过去安装过docker，先删除:"}]},{"ID":"20250918211104-gtr1edq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918211104-gtr1edq","updated":"20250918211104"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918211104-krplswx","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918211104-krplswx","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"step2.安装依赖:"}]},{"ID":"20250918211104-qdle2sn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918211104-qdle2sn","updated":"20250918211104"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918211104-3az51v4","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918211104-3az51v4","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"step3.信任 Docker 的 GPG 公钥并添加仓库："}]},{"ID":"20250918211104-m5n6nsb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918211104-m5n6nsb","updated":"20250918211104"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/ubuntu \\\n  \"$(. /etc/os-release \u0026\u0026 echo \"$VERSION_CODENAME\")\" stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918211104-w2zfbsd","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918211104-w2zfbsd","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"step4.最后安装："}]},{"ID":"20250918211104-yrj7cko","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918211104-yrj7cko","updated":"20250918211104"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918211104-zem1ahq","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20250918211104-zem1ahq","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"step5.配置Docker权限"}]},{"ID":"20250918211104-e1agou1","Type":"NodeParagraph","Properties":{"id":"20250918211104-e1agou1","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"默认情况下，Docker需要sudo权限。为了避免每次运行Docker命令都需要sudo，可以将当前用户加入docker组："}]},{"ID":"20250918211104-qqnfq1n","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250918211104-qqnfq1n","updated":"20250918211104"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"sudo usermod -aG docker $USER\nnewgrp docker  # 刷新用户组\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20250918211104-p23u6rb","Type":"NodeParagraph","Properties":{"id":"20250918211104-p23u6rb","updated":"20250918211104"},"Children":[{"Type":"NodeText","Data":"‍"}]}]}